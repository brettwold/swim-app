<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <img src="assets/icon/icon.png" class="navicon"/>
    </ion-buttons>
    <ion-title>
      Club Records {{ swimData.clubs[filters.club].name }}
    </ion-title>
    <ion-buttons slot="end">
      <ion-button icon-only (click)="refresh()">
        <ion-icon name="refresh"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
    <ion-list>
      <ion-item>
        <ion-label>Club</ion-label>
        <ion-select [(ngModel)]="filters.club" placeholder="Select One" (ionChange)="saveFilters();">
          <ion-select-option *ngFor="let club of clubs | keyvalue" value="{{club.key}}">{{club.value.name}}</ion-select-option>
        </ion-select>
      </ion-item>
    </ion-list>

    <ion-list>
      <ion-item>
        <ion-select [(ngModel)]="filters.gender" placeholder="Gender" (ionChange)="saveFilters();">
          <ion-select-option *ngFor="let gender of genders | keyvalue" value="{{gender.key}}">{{gender.value}}</ion-select-option>
        </ion-select>
        <ion-select [(ngModel)]="filters.course_type" placeholder="Course" (ionChange)="saveFilters();">
          <ion-select-option value="SC">Short Course</ion-select-option>
          <ion-select-option value="LC">Long Course</ion-select-option>
        </ion-select>
        <ion-select [(ngModel)]="filters.age_group" placeholder="Age Group" (ionChange)="saveFilters();">
          <ion-select-option *ngFor="let record_group of record_groups | keyvalue" value="{{record_group.key}}">{{record_group.value.description}}</ion-select-option>
        </ion-select>
      </ion-item>
      <ion-item *ngFor="let record of records">
        <ion-grid no-padding>
          <ion-row>
            <ion-col size="1">
              <ion-label>{{record.gender}}</ion-label>
            </ion-col>
            <ion-col size="1">
              <ion-label>{{ swimData.races[record.race_type].course_type }}</ion-label>
            </ion-col>
            <ion-col size="1">
              <ion-label>{{record.age}}</ion-label>
            </ion-col>
            <ion-col size="7">
              <ion-label>{{ swimData.races[record.race_type].name }}</ion-label>
              <h3 text-wrap>{{record.name}}</h3>
            </ion-col>
            <ion-col size="2">
              <div class="ion-text-end">
                <ion-label>{{ record.date_set }}</ion-label>
                <h2>{{ record.time_orig }}</h2>
              </div>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>
    </ion-list>

</ion-content>
